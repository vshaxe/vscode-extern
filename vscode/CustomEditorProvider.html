<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../jquery-3.6.0.min.js"></script><script src="../bootstrap/js/bootstrap.min.js"></script><script src="../bootstrap/js/bootstrap-select.min.js"></script><link href="../styles.css" rel="stylesheet"/><link href="../extra-styles.css" rel="stylesheet"/><link href="../haxe-nav.css" rel="stylesheet"/><link href="../dark-mode.css" rel="stylesheet"/><script>var dox = {rootPath: "../",platforms: ["js"]};</script><script src="../nav.js"></script><script src="../index.js"></script><link rel="icon" href="../favicon.ico" type="image/x-icon"/><title>vscode.CustomEditorProvider - Haxe externs for Visual Studio Code - API documentation</title><meta name="description" content="Provider for editable custom editors that use a custom document model."/></head><body><script>/* Here to prevent flash of unstyled content */let systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if ((!localStorage.theme && systemDarkMode) || localStorage.theme == "dark") {document.body.style.backgroundColor = "#111";document.body.style.opacity = "0";document.addEventListener("DOMContentLoaded", function(event) {toggleTheme();document.body.style.backgroundColor = "";document.body.style.opacity = "";});}</script><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
}
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#141419; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" href="https://github.com/vshaxe/"><img alt="" src="https://avatars3.githubusercontent.com/u/19169749?v=3&s=100"/></a><a class="brand" style="color:#FFFFFF" href="../">Haxe externs for Visual Studio Code - API documentation</a><a href="#" id="theme-toggle" class="brand" style="color:#FFFFFF" onclick="toggleTheme()" title="Toggle Dark Mode"><i class="fa fa-moon-o"></i></a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="fa fa-search"></i></span><input id="search" type="text" placeholder="Filter (Ctrl+P)" autocomplete="off"/></div></form></div><div class="well sidebar-nav" id="explorer"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/vshaxe/vscode-extern/blob/master/src/vscode/CustomEditorProvider.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>typedef</small> CustomEditorProvider&lt;<span class="type">T</span>&gt;</h1><h4><small>package <a href="../vscode/index.html">vscode</a></small></h4></div><div class="body"><div class="doc doc-main"><p>Provider for editable custom editors that use a custom document model.</p>
<p>Custom editors use {@linkcode CustomDocument} as their document model instead of a {@linkcode TextDocument}.
This gives extensions full control over actions such as edit, save, and backup.</p>
<p>You should use this type of custom editor when dealing with binary files or more complex scenarios. For simple
text based documents, use {@linkcode CustomTextEditorProvider} instead.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>T</code></th><td><p>Type of the custom document returned by this provider.</p></td></tr></table></div><h3 class="section">Fields</h3><div class="fields"><div class="field "><a name="saveCustomDocumentAs"></a><h3 class="anchor"><code><a href="#saveCustomDocumentAs"><span class="identifier">saveCustomDocumentAs</span></a>(<span style="white-space:nowrap">document:<span class="type">T</span>,</span> <span style="white-space:nowrap">destination:<a class="type" title="vscode.Uri - A universal resource identifier representing either a file on disk or another resource, like untitled resources." href="../vscode/Uri.html">Uri</a>,</span> <span style="white-space:nowrap">cancellation:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">Thenable</span>&lt;<span class="type">Void</span>&gt;</code></h3><div class="doc"><p>Save a custom document to a different location.</p>
<p>This method is invoked by the editor when the user triggers 'save as' on a custom editor. The implementer must
persist the custom editor to <code>destination</code>.</p>
<p>When the user accepts save as, the current editor is be replaced by an non-dirty editor for the newly saved file.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>document</code></th><td><p>Document to save.</p></td></tr><tr><th style="width:25%;"><code>destination</code></th><td><p>Location to save to.</p></td></tr><tr><th style="width:25%;"><code>cancellation</code></th><td><p>Token that signals the save is no longer required.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Thenable signaling that saving has completed.</p></div></div></div><div class="field "><a name="saveCustomDocument"></a><h3 class="anchor"><code><a href="#saveCustomDocument"><span class="identifier">saveCustomDocument</span></a>(<span style="white-space:nowrap">document:<span class="type">T</span>,</span> <span style="white-space:nowrap">cancellation:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">Thenable</span>&lt;<span class="type">Void</span>&gt;</code></h3><div class="doc"><p>Save a custom document.</p>
<p>This method is invoked by the editor when the user saves a custom editor. This can happen when the user
triggers save while the custom editor is active, by commands such as <code>save all</code>, or by auto save if enabled.</p>
<p>To implement <code>save</code>, the implementer must persist the custom editor. This usually means writing the
file data for the custom document to disk. After <code>save</code> completes, any associated editor instances will
no longer be marked as dirty.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>document</code></th><td><p>Document to save.</p></td></tr><tr><th style="width:25%;"><code>cancellation</code></th><td><p>Token that signals the save is no longer required (for example, if another save was triggered).</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Thenable signaling that saving has completed.</p></div></div></div><div class="field "><a name="revertCustomDocument"></a><h3 class="anchor"><code><a href="#revertCustomDocument"><span class="identifier">revertCustomDocument</span></a>(<span style="white-space:nowrap">document:<span class="type">T</span>,</span> <span style="white-space:nowrap">cancellation:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">Thenable</span>&lt;<span class="type">Void</span>&gt;</code></h3><div class="doc"><p>Revert a custom document to its last saved state.</p>
<p>This method is invoked by the editor when the user triggers <code>File: Revert File</code> in a custom editor. (Note that
this is only used using the editor's <code>File: Revert File</code> command and not on a <code>git revert</code> of the file).</p>
<p>To implement <code>revert</code>, the implementer must make sure all editor instances (webviews) for <code>document</code>
are displaying the document in the same state is saved in. This usually means reloading the file from the
workspace.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>document</code></th><td><p>Document to revert.</p></td></tr><tr><th style="width:25%;"><code>cancellation</code></th><td><p>Token that signals the revert is no longer required.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Thenable signaling that the change has completed.</p></div></div></div><div class="field "><a name="resolveCustomEditor"></a><h3 class="anchor"><code><a href="#resolveCustomEditor"><span class="identifier">resolveCustomEditor</span></a>(<span style="white-space:nowrap">document:<span class="type">T</span>,</span> <span style="white-space:nowrap">webviewPanel:<a class="type" title="vscode.WebviewPanel - A panel that contains a webview." href="../vscode/WebviewPanel.html">WebviewPanel</a>,</span> <span style="white-space:nowrap">token:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">EitherType</span>&lt;<span class="type">Thenable</span>&lt;<span class="type">Void</span>&gt;, <span class="type">Void</span>&gt;</code></h3><div class="doc"><p>Resolve a custom editor for a given resource.</p>
<p>This is called whenever the user opens a new editor for this <code><a href="../vscode/CustomEditorProvider.html#CustomEditorProvider">CustomEditorProvider</a></code>.</p>
<p>@linkcode WebviewPanel} for additional details.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>document</code></th><td><p>Document for the resource being resolved.</p></td></tr><tr><th style="width:25%;"><code>webviewPanel</code></th><td><p>The webview panel used to display the editor UI for this resource.
During resolve, the provider must fill in the initial html for the content webview panel and hook up all
the event listeners on it that it is interested in. The provider can also hold onto the <code><a href="../vscode/WebviewPanel.html#WebviewPanel">WebviewPanel</a></code> to
use later for example in a command. See {</p></td></tr><tr><th style="width:25%;"><code>token</code></th><td><p>A cancellation token that indicates the result is no longer needed.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>Optional thenable indicating that the custom editor has been resolved.</p></div></div></div><div class="field "><a name="openCustomDocument"></a><h3 class="anchor"><code><a href="#openCustomDocument"><span class="identifier">openCustomDocument</span></a>(<span style="white-space:nowrap">uri:<a class="type" title="vscode.Uri - A universal resource identifier representing either a file on disk or another resource, like untitled resources." href="../vscode/Uri.html">Uri</a>,</span> <span style="white-space:nowrap">openContext:<a class="type" title="vscode.CustomDocumentOpenContext - Additional information about the opening custom document." href="../vscode/CustomDocumentOpenContext.html">CustomDocumentOpenContext</a>,</span> <span style="white-space:nowrap">token:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">EitherType</span>&lt;<span class="type">Thenable</span>&lt;<span class="type">T</span>&gt;, <span class="type">T</span>&gt;</code></h3><div class="doc"><p>Create a new document for a given resource.</p>
<p><code>openCustomDocument</code> is called when the first time an editor for a given resource is opened. The opened
document is then passed to <code>resolveCustomEditor</code> so that the editor can be shown to the user.</p>
<p>Already opened <code><a href="../vscode/CustomDocument.html#CustomDocument">CustomDocument</a></code> are re-used if the user opened additional editors. When all editors for a
given resource are closed, the <code><a href="../vscode/CustomDocument.html#CustomDocument">CustomDocument</a></code> is disposed of. Opening an editor at this point will
trigger another call to <code>openCustomDocument</code>.</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>uri</code></th><td><p>Uri of the document to open.</p></td></tr><tr><th style="width:25%;"><code>openContext</code></th><td><p>Additional information about the opening custom document.</p></td></tr><tr><th style="width:25%;"><code>token</code></th><td><p>A cancellation token that indicates the result is no longer needed.</p></td></tr></table><p class="javadoc">Returns:</p><div class="indent inline-content"><p>The custom document.</p></div></div></div><div class="field "><a name="onDidChangeCustomDocument"></a><h3 class="anchor"><code><span class="label label-final">final</span><span class="label">read only</span><a href="#onDidChangeCustomDocument"><span class="identifier">onDidChangeCustomDocument</span></a>:<span class="type">EitherType</span>&lt;<a class="type" title="vscode.Event - Represents a typed event." href="../vscode/Event.html">Event</a>&lt;<a class="type" title="vscode.CustomDocumentEditEvent - Event triggered by extensions to signal to the editor that an edit has occurred on an {@linkcode CustomDocument}." href="../vscode/CustomDocumentEditEvent.html">CustomDocumentEditEvent</a>&lt;<span class="type">T</span>&gt;&gt;, <a class="type" title="vscode.Event - Represents a typed event." href="../vscode/Event.html">Event</a>&lt;<a class="type" title="vscode.CustomDocumentContentChangeEvent - Event triggered by extensions to signal to the editor that the content of a {@linkcode CustomDocument} has changed." href="../vscode/CustomDocumentContentChangeEvent.html">CustomDocumentContentChangeEvent</a>&lt;<span class="type">T</span>&gt;&gt;&gt;</code></h3><div class="doc"><p>Signal that an edit has occurred inside a custom editor.</p>
<p>This event must be fired by your extension whenever an edit happens in a custom editor. An edit can be
anything from changing some text, to cropping an image, to reordering a list. Your extension is free to
define what an edit is and what data is stored on each edit.</p>
<p>Firing <code>onDidChange</code> causes the editors to be marked as being dirty. This is cleared when the user either
saves or reverts the file.</p>
<p>Editors that support undo/redo must fire a <code><a href="../vscode/CustomDocumentEditEvent.html#CustomDocumentEditEvent">CustomDocumentEditEvent</a></code> whenever an edit happens. This allows
users to undo and redo the edit using the editor's standard keyboard shortcuts. The editor will also mark
the editor as no longer being dirty if the user undoes all edits to the last saved state.</p>
<p>Editors that support editing but cannot use the editor's standard undo/redo mechanism must fire a <code><a href="../vscode/CustomDocumentContentChangeEvent.html#CustomDocumentContentChangeEvent">CustomDocumentContentChangeEvent</a></code>.
The only way for a user to clear the dirty state of an editor that does not support undo/redo is to either
<code>save</code> or <code>revert</code> the file.</p>
<p>An editor should only ever fire <code><a href="../vscode/CustomDocumentEditEvent.html#CustomDocumentEditEvent">CustomDocumentEditEvent</a></code> events, or only ever fire <code><a href="../vscode/CustomDocumentContentChangeEvent.html#CustomDocumentContentChangeEvent">CustomDocumentContentChangeEvent</a></code> events.</p></div></div><div class="field "><a name="backupCustomDocument"></a><h3 class="anchor"><code><a href="#backupCustomDocument"><span class="identifier">backupCustomDocument</span></a>(<span style="white-space:nowrap">document:<span class="type">T</span>,</span> <span style="white-space:nowrap">context:<a class="type" title="vscode.CustomDocumentBackupContext - Additional information used to implement {@linkcode CustomDocumentBackup}." href="../vscode/CustomDocumentBackupContext.html">CustomDocumentBackupContext</a>,</span> <span style="white-space:nowrap">cancellation:<a class="type" title="vscode.CancellationToken - A cancellation token is passed to an asynchronous or long running operation to request cancellation, like cancelling a request for completion items because the user continued to type." href="../vscode/CancellationToken.html">CancellationToken</a></span>):<span class="type">Thenable</span>&lt;<a class="type" title="vscode.CustomDocumentBackup - A backup for an {@linkcode CustomDocument}." href="../vscode/CustomDocumentBackup.html">CustomDocumentBackup</a>&gt;</code></h3><div class="doc"><p>Back up a dirty custom document.</p>
<p>Backups are used for hot exit and to prevent data loss. Your <code>backup</code> method should persist the resource in
its current state, i.e. with the edits applied. Most commonly this means saving the resource to disk in
the <code><a href="../vscode/ExtensionContext.html#storagePath">ExtensionContext.storagePath</a></code>. When the editor reloads and your custom editor is opened for a resource,
your extension should first check to see if any backups exist for the resource. If there is a backup, your
extension should load the file contents from there instead of from the resource in the workspace.</p>
<p><code>backup</code> is triggered approximately one second after the user stops editing the document. If the user
rapidly edits the document, <code>backup</code> will not be invoked until the editing stops.</p>
<p><code>backup</code> is not invoked when <code>auto save</code> is enabled (since auto save already persists the resource).</p><p class="javadoc">Parameters:</p><table class="table table-bordered params"><tr><th style="width:25%;"><code>document</code></th><td><p>Document to backup.</p></td></tr><tr><th style="width:25%;"><code>context</code></th><td><p>Information that can be used to backup the document.</p></td></tr><tr><th style="width:25%;"><code>cancellation</code></th><td><p>Token that signals the current backup since a new backup is coming in. It is up to your
extension to decided how to respond to cancellation. If for example your extension is backing up a large file
in an operation that takes time to complete, your extension may decide to finish the ongoing backup rather
than cancelling it to ensure that the editor has some valid backup.</p></td></tr></table></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#141419"><div class="container"><div class="copyright"><p style="color:#FFFFFF">This documentation is generated for version 1.60.0</p><p style="color:#FFFFFF">&copy; 2025 &nbsp;<a style="color:#FFFFFF" href="https://github.com/vshaxe/">https://github.com/vshaxe/</a></p></div></div></footer><script src="../highlighter.js"></script><link href="../highlighter.css" rel="stylesheet"/></body></html>